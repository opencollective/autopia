<ul class="list-unstyled">
  <% notifications.each_with_index { |notification,i| %>
    <li>    

      <div class="media">
        <span style="border-radius: 6px; height: 18px; width: 18px; font-size: 12px" class="text-center bg-dark text-white"><i class="fa <%=notification.icon%>"></i></span>

        <div class="media-body ml-2">
          <% if include_circle_name %>
            <strong>
              <% if notification.circle.is_a?(Group) %>
                <a class="text-dark" href="/a/<%=notification.circle.slug%>"><%= notification.circle.name %></a>            
              <% else %>
                <a class="text-dark" href="/accounts/<%=notification.circle_id%>"><%= notification.circle.name %></a>                          
              <% end %>
            </strong>
          <% else %>      
            <%= partial :notification, :locals => {:notification => notification} %>
          <% end %>
          <span style="font-size: 11px" class="text-muted"><%= timeago(notification.created_at) %></span>      

          <% if include_circle_name %>
            <p class="my-0 mt-1">
              <%= partial :notification, :locals => {:notification => notification} %>
            </p>
          <% end %>

          <% if notification.type == 'commented'; comment = notification.notifiable %>
            <div class="media ml-2 my-2">
              <%= partial :'accounts/square', :locals => {:account => notification.notifiable.account, :style => 'display: block; width: 32px'} %>
              <div class="media-body ml-2">
                <%= partial :'comments/body', :locals => {:comment => comment} %>
              </div>              
            </div>
          <% end %>
        </div>
      </div>

      <hr class="my-3 border-light" />

    </li>
  <% } %>
</ul>

<%= will_paginate notifications, :inner_window => 0, :outer_window => 0, :renderer => WillPaginate::ViewHelpers::BootstrapRenderer %>
